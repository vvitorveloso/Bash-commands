#!/bin/bash
#
# reload-udev-rules - Reload udev rules and trigger events
#
# This script reloads udev rules and triggers udev events to apply changes.

show_help() {
    cat << EOF
reload-udev-rules - Reload udev rules and trigger events

This script reloads udev rules and triggers udev events to apply changes.

Usage: sudo $(basename "$0")

Dependencies:
  - udev (systemd-udevd)

Examples:
  sudo $(basename "$0")

WARNING: This script requires root privileges and affects system device management.

EOF
}

if [ "$1" = "-h" ] || [ "$1" = "--help" ]; then
    show_help
    exit 0
fi

# Check for root privileges before managing udev
if [[ $EUID -ne 0 ]]; then
  echo "This script requires root privileges to manage udev."
  exit 1
fi

sudo udevadm control --reload-rules
sudo udevadm trigger

